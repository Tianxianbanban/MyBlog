## Java的四种引用方式



Java的引用分为强引用、软引用、弱引用、虚引用四种，四种引用的强度依次逐渐减弱。

+ 强引用在程序代码中普遍存在，就是最普通的形式，类似于Object o = new Object()，只要强引用还在，垃圾收集器永远不会回收掉被引用的对象。
+ 软引用关联的对象， 是在**JVM内存不够的时候才会被回收**，在系统将要发生内存溢出异常之前把这些对象列入可回收范围内进行第二次回收，这次回收还没有足够的内存才会抛出内存溢出异常。我们调用System.gc()方法只是起通知作用，JVM什么时候扫描回收对象是JVM自己的状态决定的。就算扫描到软引用对象也不一定会回收它，只有内存不够的时候才会回收。 （SoftReference类）
+ 弱引用关联的对象**只能存活到下一次垃圾收集发生之前**，垃圾收集器工作的时候，无论当前内存是否足够，都会回收掉被弱引用关联的对象。（WeakReference类）
+ 虚引用是最弱的一种引用关系，一个对象是否被虚引用关联，完全**不会对对象的生存时间构成影响**，也无法通过虚引用来获取一个对象的实例。设置虚引用唯一的作用就是在这个对象被收集器回收时收到一个系统通知。（PhantomReference类）

