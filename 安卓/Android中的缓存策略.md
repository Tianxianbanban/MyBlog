## Android中的缓存策略



缓存可以减少流量消耗，当程序第一次从网络当中获取资源后可以缓存在存储设备上，下次就不用从网络中获取了。很多时候为了用户体验，会把资源在内存中缓存一份，这样当应用打算从网络中获取的时候，程序会先从**内存**中去获取，内存中没有再去**存储设备**当中获取，存储设备中也没有才会去从**网络**中下载。



**缓存策略**

缓存策略没有统一标准。一般来说，缓存策略主要包含了缓存的添加、获取、删除。删除是因为缓存大小是有限制的，无论内存缓存还是存储设备缓存，就需要删除一些旧的资源并且添加新的缓存，定义缓存新旧的策略就对应了不同的缓存算法。



**LRU缓存**

LRU是很常用的一种缓存算法，**近期最少使用**算法。核心思想是，当缓存满了会优先淘汰那些近期最少使用的缓存对象。采用LRU算法的缓存有两种：LruCache和DiskLruCache，LruCache可以实现内存缓存，而DiskLruCache可以充当存储设备的缓存。

+ LruCache

  LruCache是一个泛型类，内存采用一个LinkedHashMap以**强引用**的方式存储外界的缓存对象，它提供了get和put方法来完成缓存的获取和添加操作，当缓存满时，LruCache会移除较早使用的缓存对象，然后再添加新的缓存对象。

+ DiskLruCache

  DiskLruCache用于实现存储设备缓存，就是磁盘缓存，通过将缓存对象写入文件系统来实现缓存效果。